@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Light Theme - AI Mystic Light */
  :root {
    --background: 270 30% 98%;
    --foreground: 260 50% 10%;
    --muted: 270 20% 94%;
    --muted-foreground: 260 20% 40%;
    --popover: 0 0% 100%;
    --popover-foreground: 260 50% 10%;
    --card: 270 30% 97%;
    --card-foreground: 260 50% 10%;
    --border: 270 20% 88%;
    --input: 270 20% 88%;
    --primary: 292 91% 45%;
    --primary-foreground: 0 0% 100%;
    --secondary: 270 30% 92%;
    --secondary-foreground: 260 50% 15%;
    --accent: 187 94% 35%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84.2% 50%;
    --destructive-foreground: 0 0% 100%;
    --ring: 292 91% 45%;
    --radius: 0.75rem;
    --sidebar: 260 40% 15%;
  }

  /* AI Mystic Dark Theme - Vibrant Purple */
  .dark {
    /* Vibrant purple background - brighter like the original */
    --background: 260 45% 8%;
    --foreground: 220 14% 96%;

    /* Muted - more purple saturation */
    --muted: 265 35% 15%;
    --muted-foreground: 270 15% 65%;

    /* Popover - purple tinted */
    --popover: 262 42% 12%;
    --popover-foreground: 220 14% 96%;

    /* Card - brighter glassmorphism */
    --card: 262 38% 14%;
    --card-foreground: 220 14% 96%;

    /* Border - more visible purple */
    --border: 280 40% 28%;
    --input: 280 40% 28%;

    /* Primary - Bright Magenta/Pink */
    --primary: 292 91% 58%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Vibrant Purple */
    --secondary: 270 55% 25%;
    --secondary-foreground: 220 14% 96%;

    /* Accent - Bright Cyan */
    --accent: 187 94% 48%;
    --accent-foreground: 0 0% 100%;

    /* Destructive */
    --destructive: 0 62.8% 50%;
    --destructive-foreground: 0 0% 100%;

    /* Ring - matches primary */
    --ring: 292 91% 58%;

    /* Sidebar - rich purple */
    --sidebar: 262 50% 10%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Light Mode Background Pattern */
body {
  background:
    radial-gradient(ellipse at 20% 0%, rgba(217, 70, 239, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 100%, rgba(6, 182, 212, 0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, rgba(139, 92, 246, 0.04) 0%, transparent 70%),
    hsl(270, 30%, 98%);
  background-attachment: fixed;
}

/* AI Mystic Dark Background Pattern - More Vibrant */
.dark body {
  background:
    radial-gradient(ellipse at 15% 0%, rgba(168, 85, 247, 0.25) 0%, transparent 45%),
    radial-gradient(ellipse at 85% 100%, rgba(6, 182, 212, 0.15) 0%, transparent 45%),
    radial-gradient(ellipse at 50% 30%, rgba(217, 70, 239, 0.12) 0%, transparent 60%),
    radial-gradient(ellipse at 70% 70%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
    hsl(262, 45%, 8%);
  background-attachment: fixed;
}

@layer components {
  /* Glassmorphism Card - Light Mode */
  .glass-card {
    @apply bg-card/90 backdrop-blur-xl border border-border rounded-xl;
    box-shadow:
      0 4px 24px rgba(139, 92, 246, 0.08),
      0 1px 3px rgba(0, 0, 0, 0.05);
  }

  .dark .glass-card {
    @apply bg-card/85 border-border/60;
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.25),
      0 0 20px rgba(139, 92, 246, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.08);
  }

  /* Stat Card with glow */
  .stat-card {
    @apply bg-card/80 backdrop-blur-xl rounded-xl p-4 sm:p-6 border border-border;
    box-shadow: 0 2px 12px rgba(139, 92, 246, 0.06);
    transition: all 0.3s ease;
  }

  .dark .stat-card {
    @apply bg-card/75 border-border/50;
    box-shadow:
      0 4px 24px rgba(0, 0, 0, 0.15),
      0 0 15px rgba(139, 92, 246, 0.06),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
  }

  .stat-card:hover {
    @apply border-primary/30;
    box-shadow: 0 4px 20px rgba(217, 70, 239, 0.12);
  }

  .dark .stat-card:hover {
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.3),
      0 0 20px rgba(217, 70, 239, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  /* KPI Card - premium glow effect */
  .kpi-card {
    @apply bg-card/90 backdrop-blur-xl rounded-2xl p-6 border border-border;
    box-shadow: 0 4px 24px rgba(139, 92, 246, 0.08);
    transition: all 0.3s ease;
  }

  .dark .kpi-card {
    @apply bg-card/80 border-border/50;
    box-shadow:
      0 8px 40px rgba(0, 0, 0, 0.2),
      0 0 25px rgba(168, 85, 247, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.07);
  }

  .kpi-card:hover {
    @apply border-primary/40;
    box-shadow: 0 8px 32px rgba(217, 70, 239, 0.15);
    transform: translateY(-2px);
  }

  .dark .kpi-card:hover {
    box-shadow:
      0 12px 48px rgba(0, 0, 0, 0.3),
      0 0 30px rgba(217, 70, 239, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
  }

  /* Sidebar styling */
  .sidebar-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 cursor-pointer;
  }

  .sidebar-item:hover {
    @apply bg-primary/5;
  }

  .dark .sidebar-item:hover {
    @apply bg-white/5;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .sidebar-item.active {
    background: linear-gradient(135deg, rgba(217, 70, 239, 0.2) 0%, rgba(139, 92, 246, 0.15) 100%);
    @apply text-primary border border-primary/30;
    box-shadow: 0 0 15px rgba(217, 70, 239, 0.2);
  }

  .dark .sidebar-item.active {
    background: linear-gradient(135deg, rgba(217, 70, 239, 0.3) 0%, rgba(139, 92, 246, 0.2) 100%);
    @apply text-white;
    box-shadow:
      0 0 20px rgba(217, 70, 239, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  /* Tab buttons */
  .tab-btn {
    @apply px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300;
  }

  .tab-btn.active {
    background: linear-gradient(135deg, #d946ef 0%, #8b5cf6 100%);
    @apply text-white;
    box-shadow: 0 0 15px rgba(217, 70, 239, 0.3);
  }

  .dark .tab-btn.active {
    box-shadow: 0 0 20px rgba(217, 70, 239, 0.4);
  }

  .tab-btn:not(.active) {
    @apply text-muted-foreground hover:text-foreground hover:bg-primary/5;
  }

  .dark .tab-btn:not(.active) {
    @apply hover:bg-white/5;
  }

  /* Section title with gradient - Light Mode */
  .section-title {
    @apply text-lg font-semibold flex items-center gap-2 mb-4;
    background: linear-gradient(90deg, hsl(260, 50%, 20%) 0%, #a855f7 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .dark .section-title {
    background: linear-gradient(90deg, #f3f4f6 0%, #d8b4fe 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Metric styling - Light Mode */
  .metric-label {
    @apply text-xs text-muted-foreground uppercase tracking-wide;
  }

  .metric-value {
    @apply text-2xl font-bold;
    background: linear-gradient(135deg, hsl(260, 50%, 20%) 0%, #d946ef 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .dark .metric-value {
    background: linear-gradient(135deg, #f3f4f6 0%, #e879f9 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Severity badges - Light Mode */
  .severity-critical {
    @apply bg-red-100 text-red-700 border border-red-300;
  }

  .dark .severity-critical {
    @apply bg-red-500/20 text-red-300 border-red-500/30;
    box-shadow: 0 0 10px rgba(239, 68, 68, 0.2);
  }

  .severity-major {
    @apply bg-orange-100 text-orange-700 border border-orange-300;
  }

  .dark .severity-major {
    @apply bg-orange-500/20 text-orange-300 border-orange-500/30;
    box-shadow: 0 0 10px rgba(249, 115, 22, 0.2);
  }

  .severity-minor {
    @apply bg-yellow-100 text-yellow-700 border border-yellow-300;
  }

  .dark .severity-minor {
    @apply bg-yellow-500/20 text-yellow-300 border-yellow-500/30;
    box-shadow: 0 0 10px rgba(234, 179, 8, 0.2);
  }

  .severity-suggestion {
    @apply bg-cyan-100 text-cyan-700 border border-cyan-300;
  }

  .dark .severity-suggestion {
    @apply bg-cyan-500/20 text-cyan-300 border-cyan-500/30;
    box-shadow: 0 0 10px rgba(6, 182, 212, 0.2);
  }

  /* Health indicator with glow */
  .health-indicator {
    @apply w-3 h-3 rounded-full;
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%,
    100% {
      box-shadow:
        0 0 5px currentColor,
        0 0 10px currentColor;
    }
    50% {
      box-shadow:
        0 0 10px currentColor,
        0 0 20px currentColor;
    }
  }

  /* Card base */
  .card {
    @apply bg-card/80 backdrop-blur-xl border border-border rounded-xl p-4 sm:p-6;
    box-shadow: 0 2px 12px rgba(139, 92, 246, 0.06);
  }

  .dark .card {
    @apply bg-card/75 border-border/50;
    box-shadow:
      0 4px 24px rgba(0, 0, 0, 0.15),
      0 0 15px rgba(139, 92, 246, 0.06),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
  }

  /* Gradient text utility */
  .gradient-text {
    background: linear-gradient(135deg, #d946ef 0%, #8b5cf6 50%, #06b6d4 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Gradient border effect */
  .gradient-border {
    position: relative;
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    border-radius: inherit;
    background: linear-gradient(135deg, #d946ef, #8b5cf6, #06b6d4);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0.5;
  }

  /* Glow button */
  .glow-btn {
    @apply px-6 py-2 rounded-lg font-medium transition-all duration-300 text-white;
    background: linear-gradient(135deg, #d946ef 0%, #8b5cf6 100%);
    box-shadow: 0 0 15px rgba(217, 70, 239, 0.3);
  }

  .dark .glow-btn {
    box-shadow: 0 0 20px rgba(217, 70, 239, 0.4);
  }

  .glow-btn:hover {
    box-shadow: 0 0 25px rgba(217, 70, 239, 0.5);
    transform: translateY(-1px);
  }

  .dark .glow-btn:hover {
    box-shadow: 0 0 30px rgba(217, 70, 239, 0.6);
  }

  /* Progress bar with gradient */
  .progress-mystic {
    @apply h-2 rounded-full overflow-hidden bg-muted;
  }

  .progress-mystic .progress-fill {
    @apply h-full rounded-full;
    background: linear-gradient(90deg, #d946ef, #8b5cf6, #06b6d4);
    box-shadow: 0 0 8px rgba(217, 70, 239, 0.4);
  }

  .dark .progress-mystic .progress-fill {
    box-shadow: 0 0 10px rgba(217, 70, 239, 0.5);
  }

  /* Status badges - Light Mode */
  .status-done {
    @apply bg-emerald-100 text-emerald-700 border border-emerald-300;
  }

  .dark .status-done {
    @apply bg-emerald-500/20 text-emerald-300 border-emerald-500/30;
    box-shadow: 0 0 10px rgba(16, 185, 129, 0.2);
  }

  .status-in-progress {
    @apply bg-fuchsia-100 text-fuchsia-700 border border-fuchsia-300;
  }

  .dark .status-in-progress {
    @apply bg-primary-500/20 text-primary-300 border-primary-500/30;
    box-shadow: 0 0 10px rgba(217, 70, 239, 0.2);
  }

  .status-todo {
    @apply bg-slate-100 text-slate-600 border border-slate-300;
  }

  .dark .status-todo {
    @apply bg-slate-500/20 text-slate-300 border-slate-500/30;
  }

  /* Scrollbar styling - Light Mode */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(270, 20%, 94%);
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #d946ef, #8b5cf6);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #c026d3, #7c3aed);
  }

  .dark ::-webkit-scrollbar-track {
    background: hsl(260, 50%, 8%);
  }

  .dark ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #e879f9, #a78bfa);
  }
}

/* Theme-aware text utilities */
@layer utilities {
  /* Use these instead of text-white for theme support */
  .text-theme-primary {
    @apply text-foreground;
  }

  .text-theme-secondary {
    @apply text-muted-foreground;
  }

  .text-theme-muted {
    @apply text-muted-foreground/70;
  }

  .bg-theme-elevated {
    @apply bg-card;
  }

  .bg-theme-hover {
    @apply bg-primary/5;
  }

  .dark .bg-theme-hover {
    @apply bg-white/5;
  }
}
