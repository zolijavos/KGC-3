# ==============================================================================
# Twenty CRM Environment Configuration
# KGC ERP Integration - Story 33-1
# ==============================================================================
# Copy this file to .env and update values before running docker compose
# ==============================================================================

# ==============================================================================
# REQUIRED - Must be set before starting
# ==============================================================================

# Application Secret (REQUIRED)
# Generate with: openssl rand -base64 32
APP_SECRET=your-super-secret-key-change-me

# ==============================================================================
# Server Configuration
# ==============================================================================

# Twenty CRM Server Port (default: 3001)
# Note: Twenty internally uses 3000, mapped to 3001 to avoid KGC API conflict
TWENTY_PORT=3001

# Server URL (used for callbacks and links)
SERVER_URL=http://localhost:3001

# Frontend Base URL (for CORS and redirects)
FRONT_BASE_URL=http://localhost:3001

# ==============================================================================
# Database Configuration
# ==============================================================================

# PostgreSQL Port (default: 5433 to avoid conflict with KGC DB on 5432)
TWENTY_DB_PORT=5433

# PostgreSQL Credentials
POSTGRES_USER=twenty
POSTGRES_PASSWORD=twenty
POSTGRES_DB=twenty

# ==============================================================================
# Redis Configuration
# ==============================================================================

# Redis Port (default: 6380 to allow separate instance from KGC Redis)
TWENTY_REDIS_PORT=6380

# ==============================================================================
# Storage Configuration
# ==============================================================================

# Storage Type: local | s3
STORAGE_TYPE=local

# S3 Configuration (if STORAGE_TYPE=s3)
# STORAGE_S3_REGION=eu-central-1
# STORAGE_S3_NAME=your-bucket-name
# STORAGE_S3_ENDPOINT=https://s3.amazonaws.com

# ==============================================================================
# Authentication Secrets (Optional - defaults to APP_SECRET)
# ==============================================================================
# For production, generate separate secrets for each:
# ACCESS_TOKEN_SECRET=
# LOGIN_TOKEN_SECRET=
# REFRESH_TOKEN_SECRET=
# FILE_TOKEN_SECRET=

# ==============================================================================
# SSO Configuration (Optional)
# ==============================================================================

# Google OAuth (optional)
# AUTH_GOOGLE_ENABLED=false
# AUTH_GOOGLE_CLIENT_ID=
# AUTH_GOOGLE_CLIENT_SECRET=
# AUTH_GOOGLE_CALLBACK_URL=${SERVER_URL}/auth/google/redirect

# Microsoft OAuth (optional)
# AUTH_MICROSOFT_ENABLED=false
# AUTH_MICROSOFT_TENANT_ID=
# AUTH_MICROSOFT_CLIENT_ID=
# AUTH_MICROSOFT_CLIENT_SECRET=
# AUTH_MICROSOFT_CALLBACK_URL=${SERVER_URL}/auth/microsoft/redirect

# ==============================================================================
# Email Configuration (Optional)
# ==============================================================================

# EMAIL_FROM_ADDRESS=noreply@example.com
# EMAIL_FROM_NAME=Twenty CRM
# EMAIL_DRIVER=smtp
# EMAIL_SMTP_HOST=smtp.example.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USER=
# EMAIL_SMTP_PASSWORD=

# ==============================================================================
# KGC Integration (Placeholder - for future integration)
# ==============================================================================

# KGC API URL (internal Docker network or host)
# KGC_API_URL=http://host.docker.internal:3000

# Webhook secret for KGC integration
# KGC_WEBHOOK_SECRET=

# Twenty API Key for KGC access
# TWENTY_API_KEY=

# ==============================================================================
# Development/Debug Options
# ==============================================================================

# Enable debug logging
# DEBUG=twenty:*

# Node environment
NODE_ENV=production
