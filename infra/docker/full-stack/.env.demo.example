# ==============================================================================
# KGC ERP v7.0 - Demo Environment Variables
# Domain: demo-kgc.mflerp.com
#
# INSTRUCTIONS:
# 1. Copy this file to .env.demo
# 2. Generate secrets with: openssl rand -base64 64
# 3. Fill in all values marked with "change_me"
# ==============================================================================

# ==============================================================================
# General
# ==============================================================================
NODE_ENV=production
TZ=Europe/Budapest

# Domain configuration
DEMO_DOMAIN=demo-kgc.mflerp.com
ADMIN_EMAIL=admin@mflerp.com

# ==============================================================================
# KGC Core Services
# ==============================================================================

# Application
VITE_APP_NAME=KGC_ERP
VITE_APP_VERSION=7.0.0

# Database (PostgreSQL)
KGC_DB_PORT=5432
KGC_DB_USER=kgc
KGC_DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE
KGC_DB_NAME=kgc_demo

# JWT Secrets (REQUIRED - generate with: openssl rand -base64 64)
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_64
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_64

# MinIO (S3-compatible storage)
MINIO_CONSOLE_PORT=9001
MINIO_ACCESS_KEY=kgc_minio_admin
MINIO_SECRET_KEY=CHANGE_ME_SECURE_MINIO_SECRET

# ==============================================================================
# Optional: Sentry Error Tracking
# ==============================================================================
# SENTRY_DSN_API=https://your-sentry-dsn-here

# ==============================================================================
# DEPLOYMENT INSTRUCTIONS
# ==============================================================================
#
# 1. SSH into server:
#    ssh user@your-server
#
# 2. Install Docker & Docker Compose:
#    curl -fsSL https://get.docker.com | sh
#    sudo usermod -aG docker $USER
#
# 3. Clone repository:
#    git clone <repo-url> /opt/kgc-erp
#    cd /opt/kgc-erp/infra/docker/full-stack
#
# 4. Create .env.demo from this example:
#    cp .env.demo.example .env.demo
#    nano .env.demo  # Edit and fill in secrets
#
# 5. Build and start:
#    docker compose -f docker-compose.demo.yml --env-file .env.demo up -d --build
#
# 6. Run database migrations:
#    docker exec kgc-demo-api npx prisma migrate deploy
#
# 7. Seed initial data (optional):
#    docker exec kgc-demo-api npx prisma db seed
#
# 8. Check logs:
#    docker compose -f docker-compose.demo.yml logs -f
#
# 9. Access:
#    https://demo-kgc.mflerp.com
#
# ==============================================================================
# TROUBLESHOOTING
# ==============================================================================
#
# Check container status:
#   docker compose -f docker-compose.demo.yml ps
#
# View logs:
#   docker compose -f docker-compose.demo.yml logs kgc-api
#   docker compose -f docker-compose.demo.yml logs caddy
#
# Restart services:
#   docker compose -f docker-compose.demo.yml restart
#
# Full rebuild:
#   docker compose -f docker-compose.demo.yml down
#   docker compose -f docker-compose.demo.yml up -d --build --force-recreate
#
# Database access:
#   docker exec -it kgc-demo-db psql -U kgc -d kgc_demo
#
# SSL certificate issues:
#   docker exec kgc-demo-caddy caddy reload --config /etc/caddy/Caddyfile
#
# ==============================================================================
